<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.conan.mapper.UserMapper">
     <select id="getDate" resultType="string">
         select now()
     </select>
     
    <select id="login" resultType="com.conan.domain.User">
		select * from user where userID = #{userID}
	</select>
	
	<insert id="join">
		insert into user (userID, userPassword, userName, userNickname, userEmail)
		values(#{userID}, #{userPassword}, #{userName}, #{userNickname}, #{userEmail})
	</insert>
	     
    <select id="getAccount" resultType="com.conan.domain.User">
		select * from user where userID = #{userID}
	</select>
	
    <select id="getReviews" resultType="com.conan.domain.Review">
		select review.movieID, rate, movieName, content, imgUrl from review inner join movie on review.movieID = movie.movieID where userID = #{userID}
	</select>
	
	<select id="getFavorites" resultType="com.conan.domain.Favorite">
		select favorite.movieID, movieName, rateAvg, imgUrl from favorite inner join movie on favorite.movieID = movie.movieID where userID = #{userID}
	</select>
	
</mapper>